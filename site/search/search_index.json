{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About me","text":"<p>Data Engineer and IoT/Software Developer with a background in setting up advanced data analytics and IoT platforms in the energy sector and manufacturing industry. Tinkering with home automation, hard- and software, and IoT devices (basically anything that interests me) in my free time. I'm also a big fan of open-source software and I'm always looking for ways to contribute to the community.</p> <p>I've created this blog to share my knowledge, findings and experiences to all topics which interest me. I hope you find it useful.</p> <p>Connect with me on LinkedIn.</p>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/2023/02/28/hass-proxmox-part1/","title":"Running Home Assistant on Proxmox - Part 1","text":"<ul> <li>1. Setup Proxmox</li> <li>2. Production configuration<ul> <li>2.1 Change IP and gateway</li> <li>2.2 Setup certificate management with ACME</li> </ul> </li> </ul> <p>How to prepare a Proxmox server for running Home Assistant in a virtual machine. The first part covers the initial setup of Proxmox, including the installation, configuration, and certificate management.</p>","tags":["proxmox","home-assistant"]},{"location":"blog/2023/02/28/hass-proxmox-part1/#1-setup-proxmox","title":"1. Setup Proxmox","text":"<ol> <li>Download ISO and flash on USB Stick with Balena Etcher</li> <li>BIOS Settings<ul> <li>Disable secure boot</li> <li>Enable nested virtualization for VMs (KVM virtualization) to work<ul> <li>Example: HP PCs - Enable Virtualization Technology in the BIOS</li> </ul> </li> </ul> </li> <li>Flash OS on SSD and reboot</li> <li>Follow on-screen configuration instructions</li> <li><code>ssh-copy-id root@&lt;your-ip-address&gt;</code></li> <li><code>ssh root@&lt;your-ip-address&gt;</code></li> <li>Run <code>bash -c \"$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/misc/post-pve-install.sh)\"</code></li> <li>Follow terminal prompts. \u26a0\ufe0f wait for PVE update to finish if selected, this may take several minutes \u26a0\ufe0f</li> <li>Reboot</li> </ol>","tags":["proxmox","home-assistant"]},{"location":"blog/2023/02/28/hass-proxmox-part1/#2-production-configuration","title":"2. Production configuration","text":"","tags":["proxmox","home-assistant"]},{"location":"blog/2023/02/28/hass-proxmox-part1/#21-change-ip-and-gateway","title":"2.1 Change IP and gateway","text":"<ol> <li>change gateway (and IP) in <code>/etc/network/interfaces</code></li> <li>Only when IP changed: <code>/etc/hosts</code></li> <li>Change DNS in <code>/etc/resolv.conf</code></li> </ol>","tags":["proxmox","home-assistant"]},{"location":"blog/2023/02/28/hass-proxmox-part1/#22-setup-certificate-management-with-acme","title":"2.2 Setup certificate management with ACME","text":"<ol> <li>Datacenter (top level) -&gt; ACME</li> <li>Accounts -&gt; Add -&gt; configure</li> <li>In cloudflare dashboard:<ul> <li>My profile (upper right) -&gt; API Tokens</li> <li>Create Token: , Permissions: Zone.DNS:Edit, Resources: 1 Zone</li> <li>Create secure note in PW manager</li> <li>Test w/ CURL command</li> </ul> </li> </ol> <pre><code>curl -X GET \"https://api.cloudflare.com/client/v4/user/tokens/verify\" \\\n     -H \"Authorization: Bearer &lt;api-token&gt;\" \\\n     -H \"Content-Type:application/json\"</code></pre> <pre><code>{\n  \"result\": {\n    \"id\": \"238a33976d2cf7dfba07e9951ddad1cf\",\n    \"status\": \"active\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": [\n    {\n      \"code\": 10000,\n      \"message\": \"This API Token is valid and active\",\n      \"type\": null\n    }\n  ]\n}</code></pre> <ol> <li> <p>Challenge Plugins -&gt; Add, use the following config:</p> <p></p> </li> <li> <p>Go back to server -&gt; System -&gt; Certificates -&gt; ACME -&gt; Add:</p> <p></p> </li> <li> <p>Press \"Order Certificates Now\"</p> </li> <li> <p>Add DNS record in local DNS resolver (e.g., router, pihole, etc.)</p> </li> </ol> <p>Sources</p> <ul> <li>How to Change Primary Proxmox VE IP Address</li> <li>How to change my DNS?</li> <li>Proxmox Helper Scripts</li> <li>Proxmox Docs | Trusted certificates via Let's Encrypt ACME</li> <li>Help function in Proxmox UI</li> </ul>","tags":["proxmox","home-assistant"]},{"location":"blog/2023/10/14/forwarding-x11-windows/","title":"X11 Forwarding with VS Code in Windows","text":"<p>How to forward X11 from a remote server to a local Windows machine using VS Code.</p>","tags":["ssh","remote-development","vscode","x11","windows"]},{"location":"blog/2023/10/14/forwarding-x11-windows/#systems","title":"Systems","text":"<ul> <li>Remote: Ubuntu Server LTS 22.04.3 (headless)</li> <li>Local: Windows 10 with VS Code installed</li> </ul>","tags":["ssh","remote-development","vscode","x11","windows"]},{"location":"blog/2023/10/14/forwarding-x11-windows/#steps","title":"Steps","text":"<ol> <li> <p>Install VS Code Remote-SSH extension</p> </li> <li> <p>Install Xming and start Xming (Default Display:0.0)</p> </li> <li> <p>Add a new environment variable to Windows with the scope User, e.g. with PowerShell: <code>[System.Environment]::SetEnvironmentVariable('DISPLAY','localhost:0.0', 'User')</code></p> </li> <li> <p>Log out or restart to properly set the environment variable outside of the current PowerShell session (simply entering the cmd <code>refreshenv</code> does not seem to work properly).</p> </li> <li> <p>If not done yet, enable remote login with a public/private key pair:</p> <ol> <li>Create a key pair: <code>ssh-keygen -t rsa -b 4096</code></li> <li>Upload the key to the server: <code>ssh-copy-id -i ~/.ssh/key_name.pub -p 22 user_name@remote_host</code></li> <li>Create an authorized keys file: <code>cat ~/.ssh/key_name.pub | ssh -p 22 user_name@remote_host \u201cmkdir -p .ssh; cat &gt;&gt; ~/.ssh/authorized_keys\u201d</code></li> <li>Authenticate: <code>ssh -p 22 -i ~/.ssh/key_name user_name@remote_host</code></li> <li>On the server, edit <code>/etc/ssh/sshd_config</code>:</li> </ol> <pre><code>AllowAgentForwarding yes\nAllowTcpForwarding yes\nX11Forwarding yes\nX11DisplayOffset 10\nX11UseLocalhost no</code></pre> </li> <li> <p>On the server, restart the sshd daemon and exit:</p> <pre><code>sudo service sshd restart &amp;&amp; exit</code></pre> </li> <li> <p>In VS Code: <code>F1</code> -&gt; <code>Remote SSH: Open SSH Configuration File</code></p> <p>, add the following content:</p> <pre><code>Host your_remote_host\n  HostName your_remote_host\n  User user_name\n  Port 22\n  IdentityFile /c:/Users/user_name/.ssh/id_rsa\n  ForwardAgent yes\n  ForwardX11 yes\n  ForwardX11Trusted yes</code></pre> </li> <li> <p>Connect to the remote server in VS Code, check the output of the following cmd:\u00a0<code>bash -c \"echo DISPLAY=$DISPLAY</code>. The output should be <code>your_remote_host=dev-vm:10.0</code>.</p> </li> <li> <p>Install the <code>xclock</code> package for testing: <code>sudo apt upgrade &amp;&amp; sudo apt install x11-apps</code></p> </li> <li> <p>In the remote console, enter <code>xclock</code> and press enter. When the Xming Server is running, a popup window should appear after a few seconds with a clock.</p> </li> </ol> <p>Sources</p> <ul> <li>https://code.visualstudio.com/docs/remote/ssh</li> <li>https://stackoverflow.com/questions/65468655/vs-code-remote-x11-cant-get-display-while-connecting-to-remote-server</li> <li>https://stackoverflow.com/questions/66160457/vscode-remote-ssh-cannot-identify-private-key-file</li> <li>https://stackoverflow.com/questions/19589844/set-up-x11-forwarding-over-ssh#23033038</li> <li>https://blog.radwebhosting.com/how-to-setup-ssh-login-with-public-key-authentication/</li> </ul>","tags":["ssh","remote-development","vscode","x11","windows"]},{"location":"projects/","title":"Projects Overview","text":""},{"location":"blog/archive/2023/","title":"2023","text":""},{"location":"blog/category/software-development/","title":"Software Development","text":""},{"location":"blog/category/home-automation/","title":"Home Automation","text":""},{"location":"blog/category/virtualization/","title":"Virtualization","text":""}]}